<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cogntio+ Substance Abuse Vulnerability Screening</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f6f9;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #2c3e50;
      color: white;
      padding: 1rem;
      text-align: center;
    }

    main {
      padding: 2rem;
      max-width: 1000px;
      margin: auto;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2, h3 {
      color: #2c3e50;
    }

    .section {
      margin-bottom: 2rem;
    }

    label {
      display: block;
      margin: 1rem 0 0.5rem;
    }

    select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      background-color: #2980b9;
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
    }

    .results {
      background: #ecf0f1;
      padding: 1rem;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Cogntio+ Substance Abuse Vulnerability Screening</h1>
  </header>
  <main>
    <div class="section">
      <p>Rate each statement below based on how true it has been for you in the past month (1 = Strongly Disagree to 5 = Strongly Agree).</p>
    </div>

    <form id="assessmentForm">
      <div class="section" id="questions"></div>
      <button type="button" onclick="submitAssessment()">Submit Assessment</button>
    </form>

    <div class="section results" id="results" style="display:none;"></div>
  </main>

  <script>
    const questions = {
      EXPOSURE: [
     "I often find myself in places where people are using alcohol or drugs, like parties, bars, or other gatherings.",
     "It's easy to find alcohol or drugs in my neighborhood or among my friends.",
     "I have seen family members or close friends using alcohol or drugs.",
     "My friends or barkada pressure or encourage me to try alcohol or drugs."
     "I often hang out with people who drink or use drugs.",
     "I often see ads or shows that promote drinking or drug use.",
     "I follow social media pages or influencers who post about alcohol or drugs."
        
      ],
      SENSITIVITY: [
      "I often feel stressed, anxious, or sad.",
      "I find it hard to handle my emotions without using alcohol or drugs.",
      "I have family or friends I can count on when I’m going through a tough time.",
      "I often feel alone or left out.",
      "I’ve been through something painful in life that still affects how I feel now.",
      "It’s hard for me to deal with memories or emotions from bad experiences in the past."
        
      ],
      COPING: [
      "I find it hard to control my urges or cravings to use alcohol or drugs.",
      "I have a hard time sticking to healthy routines like eating right or getting enough sleep.",
      "I have health problems that I feel make me more at risk of using alcohol or drugs.",
      "I often do things that help my body stay healthy, like exercise or eating nutritious food.",
      "I regularly do things like deep breathing or quiet time to help me manage stress and think clearly.",
      "I struggle to adjust when there are big changes or problems in my life.",
      "My home or place where I live helps me live a healthy and organized life.",
      "I often feel stressed or overwhelmed by my daily tasks and responsibilities."
      ]
    };

    const questionContainer = document.getElementById("questions");

    Object.entries(questions).forEach(([category, qs]) => {
      const section = document.createElement("div");
      section.innerHTML = `<h3>${category}</h3>`;
      qs.forEach((q, i) => {
        const id = `${category}_${i}`;
        section.innerHTML += `
          <label for="${id}">${q}</label>
          <select id="${id}" name="${id}">
            <option value="1">1 - Strongly Disagree</option>
            <option value="2">2 - Disagree</option>
            <option value="3">3 - Neutral</option>
            <option value="4">4 - Agree</option>
            <option value="5">5 - Strongly Agree</option>
          </select>
        `;
      });
      questionContainer.appendChild(section);
    });

    function submitAssessment() {
      let scores = { Exposure: 0, Sensitivity: 0, Coping: 0 };
      let counts = { Exposure: 0, Sensitivity: 0, Coping: 0 };

      Object.entries(questions).forEach(([category, qs]) => {
        qs.forEach((_, i) => {
          const val = parseInt(document.getElementById(`${category}_${i}`).value);
          scores[category] += val;
          counts[category]++;
        });
      });

      let resultsText = "<h3>Assessment Results</h3>";
      Object.entries(scores).forEach(([cat, score]) => {
        const avg = (score / counts[cat]).toFixed(2);
        resultsText += `<p><strong>${cat} Score:</strong> ${avg} / 5</p>`;

        if (avg >= 4) {
          resultsText += `<p><em>High vulnerability in ${cat}. Personalized Recommendation: Implement targeted education, trauma-informed care, and seek community-based support services like CBDRP or mobile health clinics.</em></p>`;
        } else if (avg >= 2.5) {
          resultsText += `<p><em>Moderate risk in ${cat}. Recommendation: Participate in mindfulness, counseling, or school-based education programs.</em></p>`;
        } else {
          resultsText += `<p><em>Low risk in ${cat}. Maintain support networks and proactive mental wellness habits.</em></p>`;
        }
      });

      document.getElementById("results").style.display = "block";
      document.getElementById("results").innerHTML = resultsText;
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }
  </script>
</body>
</html>
