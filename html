<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cogntio+ Substance Abuse Vulnerability Screening</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f6f9;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #2c3e50;
      color: white;
      padding: 1rem;
      text-align: center;
    }

    main {
      padding: 2rem;
      max-width: 1000px;
      margin: auto;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2, h3 {
      color: #2c3e50;
    }

    .section {
      margin-bottom: 2rem;
    }

    label {
      display: block;
      margin: 1rem 0 0.5rem;
    }

    select {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      background-color: #2980b9;
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
    }

    .results {
      background: #ecf0f1;
      padding: 1rem;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Cogntio+ Substance Abuse Vulnerability Screening</h1>
  </header>
  <main>
    <div class="section">
      <p>Rate each statement below based on how true it has been for you in the past month (1 = Strongly Disagree to 5 = Strongly Agree).</p>
    </div>

    <form id="assessmentForm">
      <div class="section" id="questions"></div>
      <button type="button" onclick="submitAssessment()">Submit Assessment</button>
    </form>

    <div class="section results" id="results" style="display:none;"></div>
  </main>

  <script>
    const questions = {
      Exposure: [
        "How often are you exposed to environments where substance use is prevalent (e.g., parties, bars, social gatherings)?",
        "Are there substances easily accessible in your community or social circles?",
        "Have you witnessed substance use among family members or close friends?",
        "Do your friends or peers encourage or pressure you to use substances?",
        "How often do you spend time with individuals who use substances?",
        "How frequently do you encounter advertisements or media content promoting substance use?",
        "Do you follow social media accounts or influencers who promote substance use?"
      ],
      Sensitivity: [
        "How often do you experience feelings of stress, anxiety, or depression?",
        "Do you find it difficult to manage your emotions without resorting to substances?",
        "Do you have a strong support system of family and friends who can help you cope with challenges?",
        "How often do you feel isolated or lonely?",
        "Have you experienced any traumatic events in your life that you feel impact your current emotional state?",
        "Do you find it challenging to cope with memories or feelings related to past trauma?"
      ],
      Coping: [
        "How often do you find it difficult to control your impulses or cravings for substances?",
        "Do you struggle with maintaining healthy habits and routines?",
        "Do you have any physical health issues that you feel contribute to your vulnerability to substance use?",
        "How often do you engage in activities that promote physical well-being (e.g., exercise, healthy eating)?",
        "How often do you practice mindfulness or other techniques to manage stress and improve mental clarity?",
        "Do you find it difficult to adapt to changes or challenges in your life?",
        "Do you feel that your living environment is organized and conducive to healthy living?",
        "How often do you feel overwhelmed by your daily responsibilities and tasks?"
      ]
    };

    const questionContainer = document.getElementById("questions");

    Object.entries(questions).forEach(([category, qs]) => {
      const section = document.createElement("div");
      section.innerHTML = `<h3>${category}</h3>`;
      qs.forEach((q, i) => {
        const id = `${category}_${i}`;
        section.innerHTML += `
          <label for="${id}">${q}</label>
          <select id="${id}" name="${id}">
            <option value="1">1 - Strongly Disagree</option>
            <option value="2">2 - Disagree</option>
            <option value="3">3 - Neutral</option>
            <option value="4">4 - Agree</option>
            <option value="5">5 - Strongly Agree</option>
          </select>
        `;
      });
      questionContainer.appendChild(section);
    });

    function submitAssessment() {
      let scores = { Exposure: 0, Sensitivity: 0, Coping: 0 };
      let counts = { Exposure: 0, Sensitivity: 0, Coping: 0 };

      Object.entries(questions).forEach(([category, qs]) => {
        qs.forEach((_, i) => {
          const val = parseInt(document.getElementById(`${category}_${i}`).value);
          scores[category] += val;
          counts[category]++;
        });
      });

      let resultsText = "<h3>Assessment Results</h3>";
      Object.entries(scores).forEach(([cat, score]) => {
        const avg = (score / counts[cat]).toFixed(2);
        resultsText += `<p><strong>${cat} Score:</strong> ${avg} / 5</p>`;

        if (avg >= 4) {
          resultsText += `<p><em>High vulnerability in ${cat}. Personalized Recommendation: Implement targeted education, trauma-informed care, and seek community-based support services like CBDRP or mobile health clinics.</em></p>`;
        } else if (avg >= 2.5) {
          resultsText += `<p><em>Moderate risk in ${cat}. Recommendation: Participate in mindfulness, counseling, or school-based education programs.</em></p>`;
        } else {
          resultsText += `<p><em>Low risk in ${cat}. Maintain support networks and proactive mental wellness habits.</em></p>`;
        }
      });

      document.getElementById("results").style.display = "block";
      document.getElementById("results").innerHTML = resultsText;
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }
  </script>
</body>
</html>
